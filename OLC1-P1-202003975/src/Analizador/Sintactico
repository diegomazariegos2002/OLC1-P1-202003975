package Analizador;
import java_cup.runtime.Symbol;

parser code
{:
    public void syntax_error(Symbol s){
        System.out.println("Error (recuperable) de sintaxis: "+s.value+" Linea: "+(s.right)+" columna: "+(s.left));
    }
    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception{
        System.out.println("Error (no recuperable) de sintaxis: "+s.value+" Linea: "+(s.right)+" columna: "+(s.left));
    }
:}

action code
{:
    String tmp = "";
:}

terminal coma;
terminal dospuntos;
terminal ptcoma;
terminal flecha;
terminal llave_abre;
terminal llave_cierra;
terminal virgulilla_char;
terminal punto;
terminal union;
terminal kleene;
terminal positivo;
terminal interrogacion;
terminal caracter;
terminal especiales;
terminal conj;
terminal digito;
terminal String id;
terminal String cadena;
terminal lesinespacio;
terminal porcentajes;

nonterminal INICIO, INSTRUCCIONES, INSTRUCCION, DECLARACIONPORCENTAJES;
nonterminal DECLARACIONCONJ, DEFINICIONCONJ, DEFINICIONVIRGULILLA, DEFINICIONCONCOMAS, COMAELEMENTO, DECLARACIONEXP, DEFINICIONEXP;
nonterminal OPERADOR, DEFINICIONENTRADA, DECLARACIONENTRADA;

start with INICIO;

INICIO ::= llave_abre INSTRUCCIONES llave_cierra {:System.out.println("Fin analisis sintactico");:};

INSTRUCCIONES ::= INSTRUCCIONES INSTRUCCION | INSTRUCCION;

INSTRUCCION ::= DECLARACIONCONJ | DECLARACIONEXP | DECLARACIONPORCENTAJES | DECLARACIONENTRADA;

DECLARACIONCONJ ::= conj dospuntos id:i flecha DEFINICIONCONJ ptcoma {:System.out.println("////////id conjunto: "+i);:};

DEFINICIONCONJ ::= DEFINICIONVIRGULILLA | DEFINICIONCONCOMAS;

DEFINICIONVIRGULILLA ::= lesinespacio virgulilla_char  lesinespacio 
                        | digito virgulilla_char digito 
                        | caracter virgulilla_char caracter;

DEFINICIONCONCOMAS ::= DEFINICIONCONCOMAS coma COMAELEMENTO | COMAELEMENTO;

COMAELEMENTO ::= lesinespacio 
                | digito 
                | caracter;

DECLARACIONEXP ::= id flecha DEFINICIONEXP:DEF ptcoma {::};

DEFINICIONEXP ::= DEFINICIONEXP OPERADOR | OPERADOR:OP;

OPERADOR ::= punto:pu {::}
            | union:u {::}
            | kleene:k {::} 
            | positivo:p  {::}
            | interrogacion:i {::}
            | llave_abre id:idd llave_cierra {::}
            | cadena:cadena {::}
            | especiales:esp {::};

DECLARACIONPORCENTAJES ::= porcentajes;

DECLARACIONENTRADA ::= DEFINICIONENTRADA ptcoma;

DEFINICIONENTRADA ::= id dospuntos cadena;
